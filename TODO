;;; -*- Mode: TODOO; -*-
;;; $Id$

CDSware TODO list
=================

Suitable for editing with Emacs ToDoo mode, see
<http://www.emacswiki.org/cgi-bin/wiki/ToDoo>.

* FreeBSD ps patch

> Another patch is for modules/bibsched/bin/bibsched.wml: "ps -C %s o
> '%%p%%a'" does not exist on FreeBSD, and I have replaced it by "ps
> -o pid,command | grep %s"

We'll rewrite the offending part.  We've actually been thinking about
replacing the bibsched daemon behaviour via a more traditional
``apachectl start/stop'' kind of approach.

* language-dependent BibFormat behaviour

> - le premier concerne la fonction link() dans la définition des
> formats (BibFormat Admin).  Le paramètre de langue "ln" n'est pas
> transmis dans l'URL. Ce qui signifie que lorsque tu cliques par
> exemple sur un auteur pour faire une recherche par auteur, l'URL ne
> contient pas le paramètre "ln".

Oui, BibFormat a le problème de multilinguisme, car il a été développé
avant... il faudra que l'on y ajoute la langue comme paramètre dans
plusieurs endroits.

* collection cache

> URI:
> http://cdsweb.cern.ch/search.py?sc=1&ln=en&p=slow+ejection&f=title&action=Search+&cc=Articles+%26+Preprints&c=Published+Articles&c=Preprints&c=Theses&c=Reports&c=CERN+Internal+Notes
> Time: 24/Jun/2004:18:16:53 +0200 Browser: Mozilla/4.0 (compatible;
> MSIE 6.0; Windows NT 5.0) Client: 137.138.169.154
> 
> Please fix, thanks, K.Hübner

The problem is connected to temporary cache.  If it happens again,
please just try to reload the page after a while.  We'll fix the
problem to prevent it from happening.

* of=nn for the search engine

On Tue, 22 Jun 2004, pelzer@hbz-nrw.de wrote:
>> If this is not feasible (e.g. huuuge result sets), then we may
>> invent another output behaviour, e.g. ``of=nn'' that would return
>> you only the number of hits, that is ``12'' for the example above.
> 
> another output behaviour would be the best solution.

don't you think it's difficult for a user to search with xml output. the user 
don't see in xml - "mode", how many records are found. i think, it's helpful 
to write the hit number at the beginning of the first xml data record.
what do you think about this?

* the Personalization part is not I18N-ized yet, and there are not
  very many personalization options.  We plan to expand it at some
  point in the future, like a possibility to select default
  language, default number of hits per page, default sorting, etc.
  Received: Mon Mar 15 11:23:34 2004

* bibsched task sleeping sometimes cannot be done directly
  Sometimes when you try to make bibsched task sleeping, you cannot do
  it because MySQL is active for the task elsewhere:
   _mysql_exceptions.ProgrammingError: (2014, "Commands out of
   sync;You can't run this command now")
  Received Tue Mar  2 10:22:33 2004

o [tibor] in search for ``title: goo'' the space should be ignored
  Received Wed Jan 21 11:09:00 2004

o [tibor] RTdata dir should be created during `make install` ?
  Received Mon Jan 19 10:41:18 2004

o [thomas] BibUpload must use run_sql() 
  to avoid connection dropping problems
  Received Fri Jan 16 10:17:11 2004

o [tibor] Installation: upgrade instructions
  Received Wed Dec 17 16:20:35 2003 
  Updated Wed May 12 12:00:38 2004 - update sql targets, plus release announcements

* WebSession account edit bugs 
- email unique
- pw edit: retype functionality
  Received Wed Dec 17 16:20:35 2003 

o [tibor] BibSched: enable multiple hosts
  Received Wed Dec 17 16:20:35 2003 

o [tibor] WebSearch: search cache back
  Received Wed Dec 17 16:20:35 2003 

> It seems that restarting Apache solved the problem of internal error
> mentioned in my last email (thanks). Should I restart Apache
> everytime that I run webcoll ? The fact that 'Apache cache is not
> updated for all Apache instances' could explain the error message
> and the no collection issue that has been solved?
  
I think so.  WebSearch caches certain things and it may not update the
information on which records belong to which collections.  The caching
issue is being rethought in the current WebSearch, maybe I'll add a
forcing option for date/time lookup or something.  I've added a note
in my TODO file to do more investigations.  In any case, you may run
`apachectl graceful' each hour in a cron job.

  Updated Mon Mar  8 19:11:43 2004 

  Updated Wed May 12 12:01:10 2004 - search cache for collections
   fixed for v0.3.2, search cache for patterns to be done still

o [tibor] WebSearch: sort pattern test
  Received Wed Dec 17 16:20:35 2003 

o [martin] BibConvert: MEDLINE, BibTeX examples
  Received: Wed Dec 17 16:20:35 2003 
  Progress: BibTeX example done, MEDLINE pending

o [tibor] WebSearch: add RSS output for recent additions to the collections.
  Received Wed Dec 17 16:20:35 2003 

o [tibor] WebSearch: cross-searching of various CDSware installations
  Received Wed Dec 17 16:20:35 2003 

o [tibor] BibIndex: make our own ACC indexes
  Received Wed Dec 17 16:20:35 2003 
  Study phrase index generation from XML MARC.
  Related to bibXXx table abolition.
  Progress: table structure prepared for v0.3.0

* add restricted mode (guest users not allowed)
  On Wed, 17 Mar 2004, Filippos N. Kolovos wrote:
  > 1. Yes, we would like unregistered users not to be able to use AT
  > ALL the search facilities of the system (including the initial
  > interface search page) and a message like the one that you provided
  > to appear to them. Only registered users should be able to use the
  > system
  >
  >>     ``Sorry, system Foo is available only to registered users.  In
  >>       order to register please send an email to <bar@quux.com> that
  >>       will let you know your access credentials.  If you have an
  >>       account already, please login below.''
  > 
  > 2. Initially, we would like to have a policy for our users, with
  > which since a user has been registered by the admin, then he, or she
  > should have all the priviledges that the system offers concerning
  > the searching of the system and maybe some personalization issues,
  > for example to be able to change only his/her password, but not the
  > username, since we would like to have the control on the usernames
  > of our users

> I would like new users receive a confirmation mail before they can
> login (and submit documents), as seen in all internet forum systems.
>
> I would like to limit registration only to people that has a valid
> @mydomain.it email address.  
>
> It seems to me that there is no way to do this in cdsware 0.3.2, do
> you have any suggestion?

There is no predefined functionality in CDSware to do these things
yet.  However, we have had a similar feature request from another
installation, with an even stronger requirement not to permit guest
users at all, for example.  It is in our TODO list to introduce a
flexible user registration system in order to be able to handle
various open-close usage scenarios.

Note that if you are mostly interested in not letting untrusted people
submit documents, then you may take advantage of an already existing
access control mechanism and restrict submission to trusted users
only, as explained briefly in the WebSubmit Admin Guide at
<http://cdsware.cern.ch:8000/admin/websubmit/guide/protection.en.html>.
  
;; end of file