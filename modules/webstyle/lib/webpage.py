## $Id$
## CDSware Web Page Template.

## This file is part of the CERN Document Server Software (CDSware).
## Copyright (C) 2002 CERN.
##
## The CDSware is free software; you can redistribute it and/or
## modify it under the terms of the GNU General Public License as
## published by the Free Software Foundation; either version 2 of the
## License, or (at your option) any later version.
##
## The CDSware is distributed in the hope that it will be useful, but
## WITHOUT ANY WARRANTY; without even the implied warranty of
## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
## General Public License for more details.  
##
## You should have received a copy of the GNU General Public License
## along with CDSware; if not, write to the Free Software Foundation, Inc.,
## 59 Temple Place, Suite 330, Boston, MA 02111-1307, USA.

## read config variables:
#include "config.wml"
#include "configbis.wml"

## start Python:
<protect>## $Id$</protect>
<protect>## DO NOT EDIT THIS FILE! IT WAS AUTOMATICALLY GENERATED FROM CDSware WML SOURCES.</protect>
"""CDSware Web Page Template"""

page_template_header = """
<!-- DO NOT EDIT THIS FILE! IT WAS AUTOMATICALLY GENERATED FROM CDSware SOURCES. LOOK THERE FOR THE COPYRIGHT INFO. -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
 <title><CDSNAME>: %s</title>
 <link rev="made" href="mailto:<SUPPORTEMAIL>">
 <link rel="stylesheet" href="<HTDOCSURL>img/cds.css">
 <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
 <meta name="description" content="%s">
 <meta name="keywords" content="%s">
</head>
<body>
<div class="pageheader">
%s
%s
</div>
""" 

page_template_footer = """
<div class="pagefooter">
%s
%s
</div>
</body>
</html>
"""

page_template_portal = """
<table border="0" cellspacing="0" cellpadding="0" width="100%%">
 <tr>
  <td class="pagestripeleft" width="<CDSPAGESTRIPEWIDTH>" align="left" valign="top">
    <table width="<CDSPAGESTRIPEWIDTH>" cellspacing="0" cellpadding="0" border="0">
       <tr class="pageboxlefttop" valign="top">
        <td width="<CDSPAGESTRIPEWIDTH>">
          <!--navbar-->
        </td>
       </tr>
       <tr class="pageboxlefttop" valign="top">
         <td width="<CDSPAGESTRIPEWIDTH>">
          <CDSPAGEBOXLEFTTOP>
          <!--lefttopboxadd-->
         </td>
       </tr>
    </table>
  </td>

  <td class="pagestripemiddle" width="5" align="left" valign="top" rowspan="2">
  </td>
  <td class="pagestripemiddle" align="left" valign="top" rowspan="2">
   <strong class="headline"><span class="h1">%s</span></strong>
   <!--navtrail-->
   <p>
   %s
  </td>
  <td class="pagestripemiddle" width="5" align="left" valign="top" rowspan="2">
  </td>

  <td class="pagestriperight" width="<CDSPAGESTRIPEWIDTH>" align="right" valign="top">
    <table width="<CDSPAGESTRIPEWIDTH>" cellspacing="0" cellpadding="0" border="0">
          <tr>
           <td class="pageboxrighttop" width="<CDSPAGESTRIPEWIDTH>">
            <CDSPAGEBOXRIGHTTOP>
            <!--righttopadd-->
           </td>
          </tr>
    </table>
  </td>
 </tr>

 <tr>
  <td class="pagestripeleft" width="<CDSPAGESTRIPEWIDTH>" align="left" valign="bottom">
     <table width="<CDSPAGESTRIPEWIDTH>" cellspacing="0" cellpadding="0" border="0">
       <tr valign="bottom">
        <td class="pageboxleftbottom" width="<CDSPAGESTRIPEWIDTH>">
         <!--leftbottomadd-->
         <CDSPAGEBOXLEFTBOTTOM>
        </td>
       </tr>
     </table>
  </td>  
  <td class="pagestriperight" width="<CDSPAGESTRIPEWIDTH>" align="right" valign="bottom">
     <table width="<CDSPAGESTRIPEWIDTH>" cellspacing="0" cellpadding="0" border="0">
       <tr valign="bottom">
        <td class="pageboxrightbottom" width="<CDSPAGESTRIPEWIDTH>">
         <!--rightbottomadd-->
         <CDSPAGEBOXRIGHTBOTTOM>
        </td>
       </tr>
     </table>
  </td>
 </tr> 
</table>
"""

def page(title, body, url="", description="", keywords="", cdspageheaderadd="", cdspagefooteradd=""):
    """page(): display the cds page
        input: title of the page;
               body of the page in html format;
               url to be displayed at the bottom right corner;
               description goes to the metadata in the header of the HTML page
               keywords goes to the metadata in the header of the html page
               cdspageheaderadd is a message to be displayed just under the page header
               cdspagefooteradd is a message to be dusplayed on the top of the page footer
       output: the final cds page with header, footer, etc.
    """
    out = ""
    out += page_template_header % (title, description, keywords, cdspageheader, cdspageheaderadd)
    out += page_template_portal % (title, body)
    out += page_template_footer % (cdspagefooteradd, re.sub("<!--URL-->", url, cdspagefooter))
    return out
