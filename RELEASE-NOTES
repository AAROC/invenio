--------------------------------------------------------------------
CDS Invenio v0.92.0 is released
December 22, 2006
http://cdsware.cern.ch/invenio/news.html
--------------------------------------------------------------------

CDS Invenio v0.92.0 was released on December 22, 2006.

What's new:
-----------

 *) previously experimental output formatter in Python improved and
    made default (BibFormat)

 *) previously experimental new submission admin interface in Python
    improved and made default (WebSubmit)

 *) new XML-oriented output formatting mode (BibFormat)

 *) new export-oriented output formats: EndNote, NLM (BibFormat)

 *) RSS 2.0 latest additions feed service (WebSearch, BibFormat)

 *) new XML-oriented metadata converter mode (BibConvert)

 *) new metadata uploader in Python (BibUpload)

 *) new integrated parallel external collection searching (WebSearch)

 *) improved document classifier: composite keywords, wildcards, cloud
    output (BibClassify)

 *) improved UTF-8 fulltext indexing (BibIndex)

 *) improved external login authentication subsystem (WebAccess)

 *) added possibility to order submission categories (WebSubmit)

 *) improved handling of cached search interface page formats,
    preferential sort pattern functionality, international collection
    names (WebSearch)

 *) improved behaviour of OAI harvester: sets, deleted records,
    harvested metadata transformation (BibFormat)

 *) improved MARCXML schema compatibility concerning indicators;
    updates to the HTML MARC output format (BibEdit, BibUpload,
    BibFormat, and other modules)

 *) multiple minor bugs fixed thanks to the wider deployment of the
    regression test suite (all modules)

 *) new translation (Croatian) and several translation updates
    (Catalan, Bulgarian, French, Greek, Spanish); thanks to Ferran
    Jorba, Beatriu Piera, Alen Vodopijevec, Jasna MarkoviÄ‡, Theodoros
    Theodoropoulos, and Nikolay Dyankov (see also CREDITS file)

 *) removed dependency on PHP; not needed anymore

 *) full compatibility with MySQL 4.1 and 5.0; upgrade from MySQL 4.0
    now recommended

 *) full compatibility with FreeBSD and Mac OS X

Download:
---------

  <http://cdsware.cern.ch/download/cds-invenio-0.92.0.tar.gz>
  <http://cdsware.cern.ch/download/cds-invenio-0.92.0.tar.gz.md5>
  <http://cdsware.cern.ch/download/cds-invenio-0.92.0.tar.gz.sig>

Installation notes:
-------------------

Please follow the INSTALL file bundled in the distribution tarball.

Upgrade notes:
--------------

If you are upgrading from CDS Invenio v0.90.1, then please follow the
following steps:

   - Launch the bibsched monitor and wait until all active bibsched
     tasks are finished.  Then put bibsched daemon into manual mode.

   - Stop all submission procedures and other write operations: for
     example, you may want to switch your site to read-only mode (set
     CFG_ACCESS_CONTROL_LEVEL_SITE to 1 in access_control_config.py
     and restart Apache) or you may want to stop Apache completely.

   - Optionally, you may want to backup your current MySQL database
     and your CDS Invenio installation directory (@prefix@).  Note
     that this step should not be really necessary for the v0.90.1 to
     v0.92.0 upgrade, since the changes are of moderate nature only.

   - Untar new sources and rerun configure with old arguments.  Your
     old configure line is available at
     @prefix@/etc/build/config.nice.

   - Merge your old config.wml with the new one.  Your old config.wml
     file is available at @prefix@/lib/wml/invenio/config.wml.  The
     novelties in the new config.wml file are: (i) the introduction of
     the Croatian translation in the CDSNAMEINTL and CDSLANGS options;
     (ii) location of example Apache group and passwords files; (iii)
     removal of the CFG_GOOGLE_BOX variables that has now been moved
     into WebSearch Admin interface.  This means that merging should
     be relatively straightforward.

   - Run make.

   - If you have customized your @prefix/etc/ files since the last
     installation (for example to edit the stopwords list or configure
     language stemmers), then make a backup copy of them now.

   - Run make install.

   - If you have backed up your old @prefix@/etc/ directory as
     mentioned before, then restore your old files now, paying
     attention to differences with the new version.

   - Update your database table structure:

        $ make update-v0.90.1-tables

   - Optionally, update your tables with the new Croatian dynamic
     element names:

        $ grep "'hr'" modules/miscutil/sql/tabfill.sql | \
               ./modules/miscutil/bin/dbexec  

   - Decide whether you want to use the new output formatter in Python
     or still your old PHP-based formatter.  In the latter case you
     should inactivate the new formatter either by removing some (or
     all) of the BFT template files from the
     @prefix@/etc/bibformat/format_templates/ directory, or by editing
     @prefix@/lib/python/invenio/bibformat_config.py file and setting
     CFG_BIBFORMAT_USE_OLD_BIBFORMAT variable to True.

   - Optionally, run webcoll to regenerate search interface pages in
     Croatian.

   - Re-enable write access to the site if you have disabled it before
     in the previous steps and restart your Apache server.

   - If you have been using the "oaiarchive" tool to define sets
     exportable via OAI-PMH, then please reset your configurations
     anew in the new OAI Repository Admin interface.

   - Delete all waiting tasks from the bibsched queue, and resubmit
     periodical daemons anew, as indicated in the HOWTO Run guide.

   - Put the bibsched daemon back into the automatic mode.  You are
     done.

If you are upgrading from CDSware v0.7.1, then please follow the
following steps:

   - We recommend you to install CDS Invenio into another @prefix@
     directory and using another database name, *not* CDSware's
     values.

   - Install Invenio demo site to make sure that everything works well
     on your setup.  Optionally run the unit and the regression test
     suites too.

   - Drop Invenio tables with the demo site and copy old CDSware
     tables into the new Invenio database.  (For example, stop MySQL
     server, copy all the CDSware database directory into the new
     Invenio directory, and restart MySQL server.)

   - Run "make update-v0.7.1-tables".  This may take a while,
     depending on the number of records you had.

   - Run commands from "make update-v0.90.0-tables" and "make
     update-v0.90.1-tables" Makefile targets.  Please note that some
     of the ALTER TABLE commands may fail, since you are skipping
     installation of intermediate versions.  This is not harmful.

   - Run "python ./modules/webbasket/lib/webbasket_migration_kit.py"
     in order to migrate personal baskets.  You will be asked some
     questions.  You can choose default answers when in doubt.  The
     kit is fully automatic but it may ask you to fix some problems
     manually if they cannot be resolved automatically.

   - Rerun "webcoll".

   - Delete all waiting tasks from the bibsched queue, and resubmit
     periodical daemons anew, as indicated in the HOWTO Run guide.

   - Adapt the look and feel of the dynamic Python pages.  (See the
     WebStyle Admin Guide.)

   - Adapt the output formatter.  (See above.)

   - Put the bibsched daemon into the automatic mode.  You are done.

Further notes and issues:
-------------------------

 *) The old search results functionality of linking to other search
    engines under "Haven't found what you were looking for? Try your
    search on other servers:" box has been improved and integrated
    into WebSearch Admin.  In addition to pure linking to external
    sites, the CDS Invenio can now perform integrated parallel
    searching of these sites and display external search results
    alongside the usual CDS Invenio search results.  You may configure
    this behaviour in the WebSearch Admin interface.

 *) The new BibUpload in Python retains the philosophy of the old
    BibUpload in PHP and fixes some of its problems.  But you are
    advised to double-check its behaviour if you have been relying on
    some very specific old BibUpload features in your installation.

 *) Due to better MARCXML standard compatibility, the demo submission
    system now splits authors into 100 field (first author) and 700
    fields (additional authors).  The demo submissions are still to be
    improved.  In addition, the empty indicators are now treated as
    blank space instead of empty string, and the text MARC output for
    controlfields has been changed as well.  These changes should be
    transparent to your installation.  See the ChangeLog file for
    details.

 *) Several modules of the this release (e.g. mail submission system,
    citation ranking) are still experimental and not yet activated.
    You may have a peek at what is planned, but please do not rely on
    them.

 *) The admin-level functionality for several modules is not fully
    developed or documented yet.

What's next:
------------

 *) Improving the known issues mentioned above.  Strengthening the
    documentation towards v1.0 release.

 *) Removing dependency on WML too, now that the dependency on PHP was
    removed.

 *) Deploying the new URL schema for all pages (admin, help).

- end of file -