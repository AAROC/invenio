--------------------------------------------------------------------
CDS Invenio v0.92.1 is released
February 20, 2007
http://cdsware.cern.ch/invenio/news.html
--------------------------------------------------------------------

CDS Invenio v0.92.1 was released on February 20, 2007.

What's new:
-----------

 *) new support for external authentication systems (WebSession,
    WebAccess)

 *) new support for external user groups (WebSession)

 *) new experimental version of the reference extraction program
    (BibEdit)

 *) new optional Greek stopwords list, thanks to Theodoropoulos
    Theodoros (BibIndex)

 *) new Get_Recid submission function (WebSubmit)

 *) new config variable governing the display of the download history
    graph (BibRank)

 *) started deployment of user preferences (WebSession, WebSearch)

 *) split presentation style for "Narrow search", "Focus on" and
    "Search also" search interface boxes (WebSearch, WebStyle)

 *) updated CERN Indico and KEK external collection searching facility
    (WebSearch)

 *) fixed search interface portalbox and collection definition
    escaping behaviour (WebSearch Admin)

 *) fixed problems with external system number and OAI ID matching
    (BibUpload)

 *) fixed problem with case matching behaviour (BibUpload)

 *) fixed problems with basket record display and basket topic change
    (WebBasket)

 *) fixed output format template attribution behaviour (BibFormat)

 *) improved language context propagation in output formats
    (BibFormat)

 *) improved output format treatment of HTML-aware fields (BibFormat)

 *) improved BibFormat migration kit (BibFormat)

 *) improved speed and eliminated set duplication of the OAI
    repository gateway (BibHarvest)

 *) fixed resumption token handling (BibHarvest)

 *) improved record editing interface (BibEdit)

 *) fixed problem with empty fields treatment (BibConvert)

 *) updated Report_Number_Generation submission function to be able to
    easily generate report numbers from any submission information
    (WebSubmit)

 *) fixed problem with submission field value escaping (WebSubmit)

 *) fixed problem with submission collection ordering (WebSubmit)

 *) fixed BibSched task signal handling inconsistency (BibSched)

 *) fixed TEXT versus BLOB database problems for some tables/columns

 *) minor updates to the HOWTO Migrate guide and several admin guides
    (WebHelp, BibIndex, BibFormat)

 *) minor bugfixes to several modules; see ChangeLog for details and
    credits

Download:
---------

  <http://cdsware.cern.ch/download/cds-invenio-0.92.1.tar.gz>
  <http://cdsware.cern.ch/download/cds-invenio-0.92.1.tar.gz.md5>
  <http://cdsware.cern.ch/download/cds-invenio-0.92.1.tar.gz.sig>

Installation notes:
-------------------

Please follow the INSTALL file bundled in the distribution tarball.

Upgrade notes:
--------------

If you are upgrading from CDS Invenio v0.92.0, then please follow the
following steps:

   - Launch the bibsched monitor and wait until all active bibsched
     tasks are finished.  Then put bibsched daemon into manual mode.

   - Stop all submission procedures and other write operations: for
     example, you may want to switch your site to read-only mode (set
     CFG_ACCESS_CONTROL_LEVEL_SITE to 1 in access_control_config.py
     and restart Apache) or you may want to stop Apache completely.

   - Optionally, you may want to backup your current MySQL database
     and your CDS Invenio installation directory (@prefix@).  Note
     that this step should not be really necessary for the v0.92.0 to
     v0.92.1 upgrade, since the changes are of moderate nature only.

   - Untar new sources and rerun configure with old arguments.  Your
     old configure line is available at
     @prefix@/etc/build/config.nice.

   - Merge your old config.wml with the new one.  Your old config.wml
     file is available at @prefix@/lib/wml/invenio/config.wml.  There
     were no changes to this file in v0.92.1, so you may simply copy
     your old version.

   - Run make.

   - If you have customized your @prefix/etc/ files since the last
     installation (for example to edit the stopwords list or configure
     language stemmers), then make a backup copy of them now.

   - Run make install.

   - If you have backed up your old @prefix@/etc/ directory as
     mentioned before, then restore your old files now, paying
     attention to differences with the new versions.

   - Update your database table structure:

        $ make update-v0.92.0-tables

   - Check your custom page templates:

        $ make check-custom-templates

          Check if your customized page templates (see the WebStyle
          Admin Guide) still conform to the default templates.  This
          gives you a chance to fix your templates before running
          'make install', by providing a list of incompatibilities of
          your custom templates with the new versions of the
          templates.

          This step is only useful if you are upgrading and if you
          have previously customized default page templates.

   - Re-enable write access to the site if you have disabled it before
     in the previous steps and restart your Apache server.

   - Put the bibsched daemon back into the automatic mode.  You are
     done.

If you are upgrading from CDSware v0.7.1, then please follow the
following steps:

   - We recommend you to install CDS Invenio into another @prefix@
     directory and to use another database name, *not* CDSware's
     values.

   - Install CDS Invenio demo site to make sure that everything works
     well on your setup.  Optionally run the unit and the regression
     test suites too.

   - Drop CDS Invenio tables containing the demo site and copy your
     old CDSware tables over into the new CDS Invenio database.  (For
     example, stop your MySQL server, copy all the CDSware database
     directory files into the new CDS Invenio database directory, and
     restart your MySQL server.)

   - Run "make update-v0.7.1-tables".  This may take a while,
     depending on the number of records you had.

   - Run subsequent table update commands:  

          $ make update-v0.90.0-tables -i
          $ make update-v0.90.1-tables -i
          $ make update-v0.92.0-tables -i

     Use the "-i" option to ignore errors, as it is expected that some
     of the ALTER TABLE commands would fail due to your skipping of
     the intermediate version installation.

   - Run "python ./modules/webbasket/lib/webbasket_migration_kit.py"
     in order to migrate personal baskets.  You will be asked some
     questions.  You can choose default answers when in doubt.  The
     kit is fully automatic but it may ask you to fix some problems
     manually if it cannot resolve them automatically.

   - Rerun "webcoll".

   - Delete all waiting tasks from the bibsched queue, and resubmit
     periodical daemons anew, as indicated in the HOWTO Run guide.

   - Adapt the look and feel of the dynamic Python pages.  (See the
     WebStyle Admin Guide.)

   - Adapt the output formatter.  (See above.)

   - Put the bibsched daemon into the automatic mode.  You are done.

Further notes and issues:
-------------------------

 *) If you have been using external login method in your site, please
    note that this release brings new support for advanced external
    account and user group handling.  You may continue to use your old
    external authentication classes, but we advise you to adapt to the
    new style in order be able to fully profit from the new external
    authentication and external group features.

 *) Several modules of this release (e.g. mail submission system,
    citation ranking) are still experimental and not yet activated.
    You may have a peek at what is planned, but please do not rely on
    them.

 *) The admin-level functionality of several modules is not fully
    developed or documented yet.

What's next:
------------

 *) Improving the known issues mentioned above.  Strengthening the
    documentation towards v1.0 release.

 *) Removing submission field cookies.  Refactoring the WebSubmit
    module.

 *) Removing dependency on WML too, now that the dependency on PHP was
    removed.

 *) Deploying the new URL schema for all pages (admin, help).

- end of file -